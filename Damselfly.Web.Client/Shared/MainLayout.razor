@inherits LayoutComponentBase
@inject ViewDataService ViewDataService

<MudDialogProvider FullWidth="true" MaxWidth="MaxWidth.Small"/>
<RadzenContextMenu/>

<DetailedErrorBoundary>
    <ChildContent>
        <CascadingAuthenticationState>
            <DetailedErrorBoundary>
                <LoginForcer/>
                <ThemeSwitcher/>
            </DetailedErrorBoundary>
            <div class="damselfly-container">
                @if( ViewDataService.ShowSideBar )
                {
                    <div class="damselfly-application">
                        <SplitView>
                            <LeftPane>
                                <SideBar/>
                            </LeftPane>
                            <RightPane>
                                @Body
                            </RightPane>
                        </SplitView>
                    </div>
                    <DetailedErrorBoundary>
                        <Statusbar/>
                    </DetailedErrorBoundary>
                }
                else
                {
                    @Body
                }
            </div>
        </CascadingAuthenticationState>
    </ChildContent>
    <ErrorContent>
        <p>An error occurred. Please check the Damselfly logs and reload the page.</p>
    </ErrorContent>
</DetailedErrorBoundary>

@code{
}